From 8c05183c2a022060937ccdb179361792e580f014 Mon Sep 17 00:00:00 2001
From: X512 <danger_mail@list.ru>
Date: Sun, 6 Jun 2021 21:20:04 +0900
Subject: virtio_net: fix for TinyEMU

Change-Id: I777f8ea7506794d24c8c44e2c7b2e73f26e2627d
---
 src/add-ons/kernel/drivers/network/virtio/virtio_net.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/add-ons/kernel/drivers/network/virtio/virtio_net.h b/src/add-ons/kernel/drivers/network/virtio/virtio_net.h
index a7f8f70abe..dee49e1d16 100644
--- a/src/add-ons/kernel/drivers/network/virtio/virtio_net.h
+++ b/src/add-ons/kernel/drivers/network/virtio/virtio_net.h
@@ -88,6 +88,7 @@ struct virtio_net_hdr {
 	uint16_t gso_size;	/* Bytes to append to hdr_len per frame */
 	uint16_t csum_start;	/* Position to start checksumming from */
 	uint16_t csum_offset;	/* Offset after that to place checksum */
+	uint16_t num_buffers;	/* Number of merged rx buffers */
 };
 
 /*
@@ -96,7 +97,6 @@ struct virtio_net_hdr {
  */
 struct virtio_net_hdr_mrg_rxbuf {
 	struct virtio_net_hdr hdr;
-	uint16_t num_buffers;	/* Number of merged rx buffers */
 };
 
 /*
-- 
2.30.2

